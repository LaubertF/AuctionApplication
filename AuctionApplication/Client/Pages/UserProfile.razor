@using AuctionApplication.Client.Services
@inject AppStateService appState
@attribute [Authorize]
@page "/profile"

@if (appState != null && appState.ToastMessage != null)
{
    <div class="d-flex justify-content-center alert alert-@appState.ToastType alert-dismissible fade show" role="alert">
        @appState.ToastMessage
        <button type="button" class="btn-close" @onclick="() => CloseAppState(appState)"></button>
    </div>
}

<h3 class="fw-bold mb-4">Your profile</h3>
<div class="container">
    <div class="row g-5">
        <div class="col-12 col-lg-4">
            <div class="card shadow">
                <div class="card-body">
                    <h5 class="card-title fw-bold mb-4">User information</h5>
                    <label for="firstName">First name</label>
                    <input type="text" class="form-control" id="firstName" placeholder="First name" value="Filip" required>
                    <label for="lastName">Last name</label>
                    <input type="text" class="form-control" id="lastName" placeholder="Last name" value="Fifo" required>
                    <label for="email">Email</label>
                    <input type="text" class="form-control" id="email" placeholder="Email" value="ff@zoznam.sk" required>
                </div>
                <div class="card-footer d-flex justify-content-center">
                    <button class="btn-sm btn-outline-primary ms-2" type="submit">Submit</button>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-8">
            <div class="card shadow card-scale-sm">
                <div class="card-body">
                    <h5 class="card-title fw-bold mb-4">Auctions won</h5>
                    <table class="table table-hover align-middle">
                        <thead>
                        <tr>
                            <th scope="col">Auction</th>
                            <th scope="col">Price</th>
                            <th scope="col">Status</th>
                            <th scope="col">Action</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>A very nice flower</td>
                            <td>23540€</td>
                            <td>Not Paid</td>
                            <td><button class="btn-sm btn-warning button-round ms-2" type="submit">Pay</button></td>
                        </tr>
                        <tr>
                            <td>A very nice car</td>
                            <td>10€</td>
                            <td>Paid</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>A very nice House</td>
                            <td>0.50€</td>
                            <td>Not Paid</td>
                            <td><button class="btn-sm btn-warning button-round ms-2" type="submit">Pay</button></td>
                        </tr>
                        <tr>
                            <td>A very nice flower</td>
                            <td>23540€</td>
                            <td>Not Paid</td>
                            <td><button class="btn-sm btn-warning button-round ms-2" type="submit">Pay</button></td>
                        </tr>
                        <tr>
                            <td>A very nice car</td>
                            <td>10€</td>
                            <td>Paid</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>A very nice House</td>
                            <td>0.50€</td>
                            <td>Not Paid</td>
                            <td><button class="btn-sm btn-warning button-round ms-2" type="submit">Pay</button></td>
                        </tr>
                        <tr>
                            <td>A very nice flower</td>
                            <td>23540€</td>
                            <td>Not Paid</td>
                            <td><button class="btn-sm btn-warning button-round ms-2" type="submit">Pay</button></td>
                        </tr>
                        <tr>
                            <td>A very nice car</td>
                            <td>10€</td>
                            <td>Paid</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>A very nice House</td>
                            <td>0.50€</td>
                            <td>Not Paid</td>
                            <td><button class="btn-sm btn-warning button-round ms-2" type="submit">Pay</button></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
    </div>
</div>

@code{
    private void CloseAppState(AppStateService toast)
    {
        appState.ToastMessage = "";
        InvokeAsync(StateHasChanged);
    }
}
